<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Acesso liberado | B√¥nus dispon√≠vel</title>

  <!-- OneSignal Web SDK -->
  <script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js" defer></script>

  <style>
    :root {
      --bg: #070b14;
      --card: rgba(255,255,255,.06);
      --stroke: rgba(255,255,255,.10);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.70);
      --good: #22c55e;
      --warn: #f59e0b;
      --btn: #2563eb;
      --btn2: #16a34a;
    }

    * { box-sizing: border-box; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
      background: radial-gradient(800px 500px at 50% 20%, rgba(37,99,235,.25), transparent 60%),
                  radial-gradient(700px 450px at 60% 75%, rgba(34,197,94,.18), transparent 60%),
                  var(--bg);
      color: var(--text);
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:18px;
    }

    .wrap{ width:min(760px, 100%); }
    .card{
      background: var(--card);
      border:1px solid var(--stroke);
      border-radius:18px;
      padding:22px;
      box-shadow: 0 20px 60px rgba(0,0,0,.45);
    }

    .top{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
      margin-bottom:14px;
    }

    .badge{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:8px 12px;
      border-radius:999px;
      border:1px solid var(--stroke);
      color: var(--muted);
      font-size:13px;
    }
    .badge strong{ color: var(--text); }

    h1{
      margin:10px 0 8px;
      font-size:28px;
      line-height:1.1;
      letter-spacing:.2px;
    }
    p{ margin:0; color:var(--muted); line-height:1.5; }

    .grid{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap:14px;
      margin-top:16px;
    }
    @media (max-width: 820px){
      .grid{ grid-template-columns: 1fr; }
    }

    .box{
      background: rgba(0,0,0,.25);
      border:1px solid var(--stroke);
      border-radius:14px;
      padding:14px;
    }

    ul{ margin:0; padding-left:18px; color:var(--muted); }
    li{ margin:8px 0; }

    .ctaRow{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top:14px;
    }
    button{
      border:0;
      border-radius:12px;
      padding:12px 14px;
      font-weight:700;
      cursor:pointer;
      transition: transform .06s ease;
    }
    button:active{ transform: scale(.99); }
    .primary{ background: var(--btn); color:white; }
    .secondary{ background: rgba(255,255,255,.10); color:white; border:1px solid var(--stroke); }
    .success{ background: var(--btn2); color:white; }

    .small{
      margin-top:12px;
      font-size:12px;
      color: rgba(255,255,255,.62);
    }
    .small a{ color: rgba(255,255,255,.78); text-decoration: underline; }

    .hr{ height:1px; background: rgba(255,255,255,.10); margin:14px 0; }

    .status{
      display:none;
      margin-top:12px;
      padding:12px 12px;
      border-radius:12px;
      border:1px solid var(--stroke);
      background: rgba(0,0,0,.25);
      color: var(--muted);
    }
    .status.show{ display:block; }
    .status.good{ border-color: rgba(34,197,94,.35); }
    .status.warn{ border-color: rgba(245,158,11,.35); }
    .status b{ color: var(--text); }

    .ageRow{
      display:flex;
      align-items:flex-start;
      gap:10px;
      margin-top:14px;
    }
    .ageRow input{ margin-top:3px; }
    .dim{ opacity:.85; }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="top">
        <div class="badge">üéÅ <strong>B√¥nus</strong> dispon√≠vel hoje</div>
        <div class="badge">üîî <span class="dim">Ative notifica√ß√µes para receber</span></div>
      </div>

      <h1>Ative notifica√ß√µes para liberar ofertas e b√¥nus</h1>
      <p>
        Receba alertas de <b>giros gr√°tis</b>, <b>b√¥nus</b> e atualiza√ß√µes. Voc√™ pode desativar quando quiser.
      </p>

      <div class="grid">
        <div class="box">
          <div class="badge">‚úÖ O que voc√™ recebe</div>
          <ul>
            <li>Alertas de b√¥nus e promo√ß√µes (limitado)</li>
            <li>Novos jogos e novidades</li>
            <li>Ofertas por tempo curto</li>
          </ul>

          <div class="hr"></div>

          <div class="ageRow">
            <input id="age" type="checkbox" />
            <label for="age" class="small">
              Eu confirmo que tenho <b>18+</b> e concordo com
              <a href="#" onclick="return false;">Jogo respons√°vel</a>.
            </label>
          </div>

          <div class="ctaRow">
            <button class="primary" id="btnAllow">üîî Permitir notifica√ß√µes</button>
            <button class="secondary" id="btnSkip">Continuar sem notifica√ß√µes</button>
          </div>

          <div id="status" class="status"></div>

          <div class="small">
            Ao continuar, voc√™ aceita nossa <a href="#" onclick="return false;">Pol√≠tica de Privacidade</a>.
          </div>
        </div>

        <div class="box">
          <div class="badge">üìå Dica r√°pida</div>
          <p class="small" style="margin-top:8px">
            Se voc√™ tocar em <b>Bloquear</b>, voc√™ pode ativar depois:
            <br/>üîí (cadeado) ‚Üí <b>Notifica√ß√µes</b> ‚Üí <b>Permitir</b>.
          </p>

          <div class="hr"></div>

          <div class="badge">‚ö†Ô∏è Jogo respons√°vel</div>
          <p class="small" style="margin-top:8px">
            Jogue com responsabilidade. N√£o garantimos ganhos.
          </p>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ====== 1) –ù–∞—Å—Ç—Ä–æ–π–∫–∏: –≤—Å—Ç–∞–≤—å —Å—é–¥–∞ —Å–≤–æ–π OneSignal App ID ======
    const ONESIGNAL_APP_ID = "f0b572a1-25c5-480d-bb67-98827f08c444";

    // ====== 2) –û—Ñ—Ñ–µ—Ä –±–µ—Ä—ë–º –∏–∑ ?offer=... (—á—Ç–æ–±—ã —Ç—ã –º–æ–≥ –º–µ–Ω—è—Ç—å –±–µ–∑ –ø—Ä–∞–≤–∫–∏ –∫–æ–¥–∞) ======
    const params = new URLSearchParams(location.search);
    const OFFER_URL = params.get("offer") || "";

    // –î–æ–ø. –º–µ—Ç–∫–∏ (–ø–æ –∂–µ–ª–∞–Ω–∏—é): source/campaign/subid
    const SRC = params.get("src") || "";
    const CAMP = params.get("camp") || "";
    const SUBID = params.get("subid") || "";

    const statusEl = document.getElementById("status");
    const ageEl = document.getElementById("age");
    const btnAllow = document.getElementById("btnAllow");
    const btnSkip = document.getElementById("btnSkip");

    function showStatus(type, html){
      statusEl.className = "status show " + (type || "");
      statusEl.innerHTML = html;
    }

    function buildOfferUrl(){
      if(!OFFER_URL) return "";
      const u = new URL(OFFER_URL);
      // –î–æ–±–∞–≤–∏–º —Ç—Ä–µ–∫–∏–Ω–≥, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
      if (SRC)  u.searchParams.set("src", SRC);
      if (CAMP) u.searchParams.set("camp", CAMP);
      if (SUBID) u.searchParams.set("subid", SUBID);
      return u.toString();
    }

    function goOffer(){
      const u = buildOfferUrl();
      if(!u){
        alert("Offer URL not set. Add ?offer=YOUR_URL");
        return;
      }
      window.location.href = u;
    }

    // ====== 3) –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è OneSignal ======
    window.OneSignal = window.OneSignal || [];
    OneSignal.push(function() {
      OneSignal.init({
        appId: ONESIGNAL_APP_ID,
        notifyButton: { enable: false },
        // –õ—É—á—à–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ: prompt –≤—ã–∑—ã–≤–∞–µ–º –ø–æ –∫–Ω–æ–ø–∫–µ (–±–µ–∑ –∞–≤—Ç–æ–ø–æ–ø–∞–ø–∞)
        promptOptions: {
          slidedown: {
            enabled: true,
            autoPrompt: false,     // –ù–ï –∞–≤—Ç–æ ‚Äî —Ç–æ–ª—å–∫–æ –ø–æ –∫–ª–∏–∫—É
            actionMessage: "Ative notifica√ß√µes para receber b√¥nus e ofertas",
            acceptButtonText: "Permitir",
            cancelButtonText: "Agora n√£o"
          }
        }
      });
    });

    async function requestPush(){
      if(!ageEl.checked){
        showStatus("warn", "‚úÖ Marque a caixa <b>18+</b> para continuar.");
        return;
      }

      if(ONESIGNAL_APP_ID === "PASTE_YOUR_ONESIGNAL_APP_ID_HERE"){
        showStatus("warn", "‚ö†Ô∏è Voc√™ n√£o inseriu o <b>OneSignal App ID</b> no c√≥digo.");
        return;
      }

      try{
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–¥–¥–µ—Ä–∂–∫—É
        const supported = await OneSignal.isPushNotificationsSupported();
        if(!supported){
          showStatus("warn", "‚ö†Ô∏è Seu navegador n√£o suporta notifica√ß√µes web. Tente no <b>Chrome (Android)</b>.");
          return;
        }

        // –£–∂–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ?
        const enabled = await OneSignal.isPushNotificationsEnabled();
        if(enabled){
          showStatus("good", "‚úÖ Notifica√ß√µes j√° est√£o ativas. Redirecionando...");
          setTimeout(goOffer, 800);
          return;
        }

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º slidedown prompt (–ø–æ –∫–ª–∏–∫—É)
        showStatus("", "üîî Aguarde‚Ä¶ abrindo solicita√ß√£o de permiss√£o.");
        OneSignal.showSlidedownPrompt();

        // –ñ–¥—ë–º –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –∫–æ—Ä–æ—Ç–∫–∏–º ‚Äú–ø—É–ª–æ–º‚Äù
        let tries = 0;
        const timer = setInterval(async () => {
          tries++;
          const en = await OneSignal.isPushNotificationsEnabled();
          if(en){
            clearInterval(timer);
            showStatus("good", "‚úÖ Pronto! Notifica√ß√µes ativadas. Redirecionando‚Ä¶");
            setTimeout(goOffer, 900);
          }
          if(tries >= 20){
            clearInterval(timer);
            showStatus("warn", "Se voc√™ tocou em <b>Bloquear</b>, ative depois: üîí ‚Üí <b>Notifica√ß√µes</b> ‚Üí <b>Permitir</b>. <br/><br/>Voc√™ tamb√©m pode continuar sem notifica√ß√µes.");
          }
        }, 500);

      }catch(e){
        showStatus("warn", "‚ö†Ô∏è Erro ao solicitar notifica√ß√µes. Verifique configura√ß√£o do OneSignal e tente novamente.");
        console.error(e);
      }
    }

    btnAllow.addEventListener("click", requestPush);
    btnSkip.addEventListener("click", () => {
      if(!ageEl.checked){
        showStatus("warn", "‚úÖ Marque a caixa <b>18+</b> para continuar.");
        return;
      }
      goOffer();
    });
  </script>
</body>
</html>
